{"version":3,"sources":["../../src/functions/diff.js"],"names":["tf","transform","convert","cap","diff","baseObj","targetObj","iteratee","result","value","key","baseObjKeyValue","newVals","Object","assign"],"mappings":";;;;;;AAAA;;;;AAEA,IAAMA,KAAKC,cAAUC,OAAV,CAAkB,EAAEC,KAAK,KAAP,EAAlB,CAAX;;AAEA,IAAMC,OAAO,SAAPA,IAAO,CAACC,OAAD,EAAUC,SAAV,EAAwB;AACnC,MAAMC,WAAW,SAAXA,QAAW,GAA6B;AAAA,QAA5BC,MAA4B,uEAAnB,EAAmB;AAAA,QAAfC,KAAe;AAAA,QAARC,GAAQ;;AAC5C,QAAMC,kBAAkBN,QAAQK,GAAR,CAAxB;AACA,QAAI,iBAAQD,KAAR,EAAeE,eAAf,CAAJ,EAAqC;AACnC,aAAOH,MAAP;AACD;AACD,QAAMI,8BACHF,GADG,EAED,kBAASD,KAAT,KACC,kBAASE,eAAT,CADD,IAECP,KAAKO,eAAL,EAAsBF,KAAtB,CAFF,IAGAA,KALE,CAAN;;AAQA,WAAOI,OAAOC,MAAP,CAAcN,MAAd,EAAsBI,OAAtB,CAAP;AACD,GAdD;AAeA,SAAOZ,GAAGO,QAAH,EAAa,IAAb,EAAmBD,SAAnB,CAAP;AACD,CAjBD;;kBAmBeF,I","file":"diff.js","sourcesContent":["import { transform, isEqual, isObject } from 'lodash/fp'\n\nconst tf = transform.convert({ cap: false })\n\nconst diff = (baseObj, targetObj) => {\n  const iteratee = (result = {}, value, key) => {\n    const baseObjKeyValue = baseObj[key]\n    if (isEqual(value, baseObjKeyValue)) {\n      return result\n    }\n    const newVals = {\n      [key]:\n        (isObject(value) &&\n          isObject(baseObjKeyValue) &&\n          diff(baseObjKeyValue, value)) ||\n        value,\n    }\n\n    return Object.assign(result, newVals)\n  }\n  return tf(iteratee, null, targetObj)\n}\n\nexport default diff\n"]}